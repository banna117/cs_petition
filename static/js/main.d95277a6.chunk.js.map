{"version":3,"sources":["assets/icons/dot.js","components/Category.js","components/PetitionCard.js","components/Comment.js","components/CustomEditor.js","components/Post.js","assets/icons/LOGO1.js","components/LoginForm.js","components/LoginnedForm.js","pages/NavigationTab.js","components/WritingModal.js","pages/PetitionPage.js","App.js","index.js"],"names":["Dot","width","height","viewBox","fill","xmlns","cx","cy","r","Category","name","filter","className","PetitionCard","petition","pid","title","catId","date","description","categories","agreements","setSelectedPost","filterCategoryState","onClick","map","category","length","Comment","comment","uid","comId","content","user","users","CustomEditor","sendNewComment","useState","setContent","placeholder","onChange","e","target","value","defaultValue","Post","petitionInfo","state","comments","closePost","socket","loginned","currentUser","console","log","some","agree","alert","emit","Logo1","d","LoginForm","loginComplete","setName","major","setMajor","useEffect","btn","document","getElementById","disabled","type","list","id","LoginnedForm","logout","NavigationTab","props","setFilterCategoryState","openPostingModal","setSearchKeyword","search","setOnGoingState","onGoingState","WritingModal","titleLength","setTitleLength","contentLength","setContentLength","closeWritingModal","writeComplete","maxLength","io","connect","PetitionPage","petitions","setPetitions","setComments","setCategories","setAgreements","setUsers","postingModalState","setPostingModalState","selectedPost","searchKeyword","setLoginned","setCurrentUser","sessionStorage","getItem","hideNav","setHideNav","a","axios","get","then","res","data","fetchData2","catch","fetchData","fetchData4","fetchData5","fetchData6","on","addingPost","addingComment","addingAgree","addingUser","setItem","removeItem","includes","agreement","newPetition","Date","toLocaleDateString","App","path","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.d95277a6.chunk.js","sourcesContent":["export default function Dot (){\r\n    return (\r\n    <svg width=\"5\" height=\"4\" viewBox=\"0 0 5 4\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <circle cx=\"2.5\" cy=\"2\" r=\"2\" fill=\"#C4C4C4\"/>\r\n    </svg>);\r\n}","import React from \"react\";\r\nimport \"./Category.scss\";\r\n\r\nexport default function Category({ name, filter }) {\r\n  return <p className={\"category \"+ (filter === -1 ? \"\" : \"selected\")}>{name}</p>;\r\n}","import React from \"react\";\r\nimport \"./PetitionCard.scss\";\r\nimport Dot from \"../assets/icons/dot\";\r\nimport Category from \"./Category\";\r\n\r\nexport default function PetitionCard({ petition: { pid, title, catId, date, description }, categories, agreements, setSelectedPost, filterCategoryState }) {\r\n\r\n    return (\r\n        <button key={pid} className=\"list-petition\" onClick={() => setSelectedPost(pid)}>\r\n            {/*  data processing! */}\r\n            <div className=\"lp-category\">\r\n            <Category filter = {filterCategoryState} name={categories.map((category)=>{\r\n            if(catId == category.catId){return category.name;}\r\n          })} />\r\n                <Category filter={-1} name={agreements.length+\"명\"} />\r\n            </div>\r\n            <div className=\"lp-title\">{title}</div>\r\n            <div className=\"lp-description\" >{description}</div>\r\n            <div className=\"lp-id-date\">\r\n                {pid} <Dot /> {date}\r\n            </div>\r\n        </button>);\r\n}\r\n","import React from \"react\";\r\nimport \"./Comment.scss\";\r\nimport Dot from \"../assets/icons/dot\";\r\n\r\nexport default function Comment({comment:{pid, comId, uid, content, date}, users}) {\r\n var user = users.filter((user) => user.uid === uid);\r\n  return (\r\n    \r\n    <div className=\"comment\">\r\n\r\n      <div className=\"content-box\">\r\n        <p className=\"content\">{content}</p>\r\n        <p className=\"sub-title\">{user[0].name} <Dot /> {date}</p>\r\n      </div>\r\n      <div className=\"divider\" />\r\n    </div>\r\n  )\r\n}","import React, { useState } from \"react\";\r\nimport \"./CustomEditor.scss\";\r\n\r\n\r\nexport default function CustomEditor({sendNewComment}) {\r\n  const [content, setContent] = useState(\"\");\r\n\r\n \r\n  return (\r\n    <div className=\"custom-editor\">\r\n      <textarea\r\n        className=\"ce-area\"\r\n        placeholder=\"댓글 입력...\"\r\n        onChange={(e) => setContent(e.target.value)}\r\n        defaultValue={content}\r\n      >\r\n      </textarea>\r\n      <button className=\"ce-btn\" onClick={()=>sendNewComment(content)}>확인</button>\r\n    </div>\r\n  );\r\n}","import React, { useEffect } from \"react\";\r\nimport \"./Post.scss\";\r\nimport Category from \"./Category\";\r\nimport Dot from \"../assets/icons/dot\";\r\nimport Comment from \"./Comment\";\r\nimport CustomEditor from \"./CustomEditor\";\r\n\r\nexport default function Post({ petitionInfo: { pid, uid, title, catId, description, date, state }, comments,  categories, closePost, agreements, socket, loginned, user,  users, currentUser }) {\r\n    console.log(comments)\r\n    //comId => comments 의 length를 따져서 부여,\r\n    const sendNewComment = (content) => {\r\n        if(!loginned){alert(\"로그인이 필요한 서비스입니다.\")}\r\n        else{\r\n        const comId = comments.length;\r\n        socket.emit(\"newComment\", { pid, comId, uid:currentUser.uid, content, date });\r\n        }\r\n    }\r\n\r\n    const sendNewAgreement = () => {\r\n        if(!loginned){alert(\"로그인이 필요한 서비스입니다.\")}\r\n        //agreements 에 이미 동의한 상태\r\n        else if(agreements.some(agree=>agree.pid === pid && agree.uid === uid)){\r\n            alert(\"이미 동의한 청원입니다!\")\r\n        }\r\n        else {socket.emit(\"newAgree\", {pid, uid})}\r\n    }\r\n    \r\n    return (\r\n        <div className=\"post\" >\r\n            <div className=\"close-spot\">\r\n                <button className=\"close-button\" onClick={() => closePost()}>X</button>\r\n            </div>\r\n            <div className=\"title-box\">\r\n                <div className=\"category-list\">\r\n                    <Category filter={-1} name={categories.map((category) => {\r\n                        if (catId == category.catId) { return category.name; }\r\n                    })} />\r\n                    <Category filter={-1} name={agreements.length+\"명\"} />\r\n                    <Category filter={-1} name={state === 0 ? \"진행 중\" : (state === 1 ? \"답변됨\" : \"만료됨\")} />\r\n                </div>\r\n                <p className=\"title\">{title}</p>\r\n                <p className=\"sub-title\">{user[0].name} <Dot /> {date}</p>\r\n            </div>\r\n            <p className=\"description\">{description}</p>\r\n            <div className=\"agree-box\">\r\n                <div className=\"agree-num\">현재까지 {agreements.length}명이 동의했습니다.</div>\r\n                <button className=\"agree-btn\" onClick={sendNewAgreement}>청원 동의하기</button>\r\n            </div>\r\n            <div className=\"comment-box\">\r\n\r\n                <CustomEditor sendNewComment={sendNewComment} />\r\n                {comments.map((comment) =>\r\n                    <Comment key={comment.comId} comment={comment} users={users}/>\r\n                )\r\n                }\r\n            </div>\r\n        </div>\r\n    );\r\n}","import \"./LOGO1.scss\"\n\nexport default function Logo1() {\n    return (\n        <div className=\"logo-logo\">\n            <svg width=\"53\" height=\"27\" viewBox=\"0 0 53 27\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                <path d=\"M17.0766 0.869036H2.2433V4.22531H7.56655V4.40511C7.56655 7.16204 4.8152 11.1176 0.448944 13.4251L2.87132 16.0921C6.07125 14.2941 8.58335 11.7769 9.74968 9.43951C11.0954 11.717 13.4879 13.9345 16.1794 15.3729L18.213 12.4961C14.5645 10.6981 11.7534 7.52164 11.7534 4.40511V4.22531H17.0766V0.869036ZM5.59276 16.9612V26.5505H24.4933V23.1343H9.60015V16.9612H5.59276ZM15.9402 9.40955H19.8878V18.7891H23.8952V0H19.8878V6.05327H15.9402V9.40955Z\" fill=\"#004187\" />\n                <path d=\"M37.1442 0.569369H32.9573V3.62597C32.9573 6.92231 30.1761 10.758 25.8397 13.1854L28.2621 15.8524C31.4321 13.9345 33.8246 11.3574 35.1405 8.96005C36.5461 11.2974 38.8488 13.515 41.5702 15.1332L43.6038 12.2564C40.045 10.2786 37.1442 6.92231 37.1442 3.62597V0.569369ZM30.834 16.9612V26.5505H49.4355V23.1343H34.8414V16.9612H30.834ZM48.8374 18.7891V9.07991H52.3065V5.60377H48.8374V0H44.83V18.7891H48.8374Z\" fill=\"#004187\" />\n            </svg>\n            <svg width=\"76\" height=\"27\" viewBox=\"0 0 76 27\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                <path d=\"M3.20733 9.88901H10.5941V12.3762H0.306458V15.7325H25.0087V12.3762H14.7211V9.88901H22.1079V0.479468H3.20733V9.88901ZM22.1079 27V17.6504H2.90827V21.0666H18.1005V27H22.1079ZM7.21471 3.83574H18.1005V6.53274H7.21471V3.83574Z\" fill=\"#1487C8\" />\n                <path d=\"M40.8894 0.629302H36.7026V4.01554C36.7026 7.28191 32.6653 11.657 27.4318 13.8746L29.5252 16.8713C33.4429 15.0733 36.912 12.3163 38.796 9.28968C40.6801 12.3163 44.1492 15.0733 48.0669 16.8713L50.1603 13.8746C44.9267 11.657 40.8894 7.28191 40.8894 4.01554V0.629302ZM51.1472 24.273V20.8568H40.8595V15.1931H36.7325V20.8568H26.4449V24.273H51.1472Z\" fill=\"#1487C8\" />\n                <path d=\"M75.5511 26.8502V0H71.5437V26.8502H75.5511ZM54.2581 9.79911V22.0855H60.9869C63.9476 22.0855 67.4765 21.9356 70.497 21.3962V18.0999C67.2372 18.6093 64.1868 18.6693 60.9869 18.6693H58.2655V13.1554H67.3569V1.22864H54.2581V4.64484H63.3495V9.79911H54.2581Z\" fill=\"#1487C8\" />\n            </svg>\n        </div>\n    );\n}\n","import React, {useEffect, useState} from \"react\";\r\nimport \"./LoginForm.scss\";\r\n\r\nexport default function LoginForm({loginComplete}) {\r\n    //variables\r\n    const [name, setName] = useState(\"\");\r\n    const [major, setMajor] = useState(\"\")\r\n\r\n    //state\r\n    useEffect(()=>{\r\n        const btn = document.getElementById(\"login-complete-btn\")\r\n        if(name && major){btn.disabled=false}\r\n        else{btn.disabled=\"disabled\"}\r\n    })\r\n\r\n    return (\r\n\r\n                <div className=\"hp-nameinput\">\r\n                    <div className=\"hp-logintext\">LOGIN</div>\r\n                    <div className={\"hp-input \"}>\r\n                        <input className=\"input-name\" type=\"text\" placeholder=\"Type your Name\" onChange={(e)=>setName(e.target.value)}/>\r\n                        <input className=\"input-major\" type=\"text\" placeholder=\"Type your Major\" list=\"major-list\" onChange={(e)=>setMajor(e.target.value)} />\r\n                        <datalist id=\"major-list\">\r\n                            <option value=\"건환\" />\r\n                            <option value=\"전산\" />\r\n                            <option value=\"전전\" />\r\n                            <option value=\"산디\" />\r\n                            <option value=\"원양\" />\r\n                            <option value=\"신소재\" />\r\n                            <option value=\"생화공\" />\r\n                            <option value=\"항공\" />\r\n                            <option value=\"산업공학\" />\r\n                            <option value=\"기계\" />\r\n                            <option value=\"자연\" />\r\n                        </datalist>\r\n                    </div>\r\n                    <div className=\"hp-login\">\r\n                        <button className=\"login-button\" id=\"login-complete-btn\" onClick={()=>loginComplete(name,major)}>Login</button>\r\n                    </div>\r\n                </div>\r\n \r\n    )\r\n}\r\n","import { useEffect } from \"react\"\r\nimport \"./LoginnedForm.scss\"\r\n\r\nexport default function LoginnedForm({currentUser, logout}){\r\n\r\n\r\n    return(\r\n    <div className=\"form-idcard\">\r\n        <div className=\"idcard-top\">\r\n            <div className=\"user-img\"></div>\r\n            <div className=\"user-info\">\r\n                <div className=\"username\">{currentUser.name}</div>\r\n                <div className=\"usermajor\">{currentUser.major}</div>\r\n            </div>\r\n        </div>\r\n        <div className=\"idcard-bottom\">\r\n            <button className=\"logout-btn\" onClick={()=>logout()}>logout</button>\r\n        </div>\r\n    </div>)\r\n\r\n}","import React from \"react\";\r\nimport \"./NavigationTab.scss\";\r\nimport Logo1 from \"../assets/icons/LOGO1\"\r\nimport LoginForm from \"../components/LoginForm\";\r\nimport LoginnedForm from \"../components/LoginnedForm\";\r\n\r\n\r\nexport default function NavigationTab(props) {\r\n\tconst { setFilterCategoryState, filterCategoryState, openPostingModal, \r\n\t\tsetSearchKeyword, search, setOnGoingState, onGoingState, loginComplete, currentUser,logout, loginned\r\n\t }  = props;\r\n\r\n\r\n\r\n\treturn (\r\n\t\t\r\n\t\t\t<div className=\"tab\">\r\n\t\t\t\t<div className=\"logo-spot\"><Logo1/></div>\r\n\t\t\t\t<div className=\"login-box\">{loginned ? <LoginnedForm currentUser={currentUser} logout = {logout} /> \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t: <LoginForm loginComplete={loginComplete}/>}</div>\r\n\t\t\t\t<div className=\"search\">\r\n\t\t\t\t\t<input className=\"search-bar\" type=\"text\" placeholder=\"검색...\" onChange={(e)=>setSearchKeyword(e.target.value)}  ></input>\r\n\t\t\t\t\t<button className=\"search-button\" onClick={search}></button>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"filter-buttons\">\r\n\t\t\t\t\t<button className={\"processing1 \" + (onGoingState === 0 ? \"buttonSelected\" : \"\")} onClick={() => setOnGoingState(0)}><p>진행중인 청원<br></br>(최신순)</p></button>\r\n\t\t\t\t\t<button className={\"processing2 \" + (onGoingState === 0 ? \"buttonSelected\" : \"\")} onClick={() => setOnGoingState(0)} ><p>진행중인 청원<br></br>(청원순)</p></button>\r\n\t\t\t\t\t<button className={\"answered \" + (onGoingState === 1 ? \"buttonSelected\" : \"\")} onClick={() => setOnGoingState(1)}>답변된 청원</button>\r\n\t\t\t\t\t<button className={\"expired \" + (onGoingState === 2 ? \"buttonSelected\" : \"\")} onClick={() => setOnGoingState(2)}>만료된 청원</button>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"filter-categories\">\r\n\t\t\t\t\t<button className={\"whole \" + (filterCategoryState === -1 ? \"buttonSelected\" : \"\")} onClick={() => setFilterCategoryState(-1)}>전체</button>\r\n\t\t\t\t\t<button className={\"facility \" + (filterCategoryState === 0 ? \"buttonSelected\" : \"\")} onClick={() => setFilterCategoryState(0)}>시설</button>\r\n\t\t\t\t\t<button className={\"academy \" + (filterCategoryState === 1 ? \"buttonSelected\" : \"\")} onClick={() => setFilterCategoryState(1)}>학업</button>\r\n\t\t\t\t\t<button className={\"welfare \" + (filterCategoryState === 2 ? \"buttonSelected\" : \"\")} onClick={() => setFilterCategoryState(2)}>복지</button>\r\n\t\t\t\t\t<button className={\"future \" + (filterCategoryState === 3 ? \"buttonSelected\" : \"\")} onClick={() => setFilterCategoryState(3)}>미래</button>\r\n\t\t\t\t\t<button className={\"administration \" + (filterCategoryState === 4 ? \"buttonSelected\" : \"\")} onClick={() => setFilterCategoryState(4)}>행정</button>\r\n\t\t\t\t\t<button className={\"etc \" + (filterCategoryState === 5 ? \"buttonSelected\" : \"\")} onClick={() => setFilterCategoryState(5)}>기타</button>\r\n\t\t\t\t</div>\r\n\t\t\t\t<button className=\"petition-write\" onClick={openPostingModal}><p className=\"text\">청원 작성하기</p></button>\r\n\r\n\t\t\t</div>\r\n\t\t\r\n\t);\r\n}\r\n","import axios from \"axios\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport \"../components/WritingModal.scss\";\r\nimport Logo1 from \"../assets/icons/LOGO1\";\r\n\r\nexport default function WritingModal(props) {\r\n    //filterCategoryState: 새로운 청원의 카테고리\r\n    //titleLength: title 텍스트의 길이\r\n    //contentLength: description 텍스트의 길이\r\n\tconst [filterCategoryState, setFilterCategoryState] = useState(-1);\r\n    const [titleLength, setTitleLength] = useState(0);\r\n    const [contentLength, setContentLength] = useState(0);\r\n\r\n    const { closeWritingModal, writeComplete } = props;\r\n \r\n    //제목을 1글자 이상 적고, 내용을 1글자 이상 적고, 카테고리를 선택한 상태에서만 버튼을 활성화한다.\r\n    useEffect(()=>{\r\n        const btn = document.getElementById(\"write-complete-btn\");\r\n        \r\n        if(titleLength && contentLength && (filterCategoryState !== -1)){\r\n            btn.disabled = false;\r\n        }\r\n        else{btn.disabled = 'disabled';}\r\n    });\r\n \r\n    return (\r\n        <div className=\"writing-bg\">\r\n            <div className=\"writing-modal\">\r\n\r\n                <div className=\"writing-navigation\">\r\n                    <div className=\"logo\"><Logo1/></div>\r\n                    <button \r\n                    className={\"write-petition \"} \r\n                    id=\"write-complete-btn\" \r\n                    onClick={()=>writeComplete(document.getElementById('title-input').value, filterCategoryState, document.getElementById(\"content-input\").value)}>작성 완료</button>\r\n                    <button className=\"cancel-petition\" onClick={closeWritingModal}>작성 취소</button>\r\n                </div>\r\n                <div className=\"writing-main\">\r\n                    <div className=\"main-title\">\r\n                        <p className=\"title-text\">제목({titleLength}/100)</p>\r\n                        <input className=\"title-input\" placeholder=\"내용을 쉽게 파악할 수 있도록 제목을 적어주세요.\" maxLength=\"100\" id=\"title-input\" onChange={(e) => setTitleLength(e.target.value.length)}></input>\r\n                    </div>\r\n                    <div className=\"main-category\">\r\n                        <p className=\"category-text\">카테고리</p>\r\n                        <div className=\"categories\">\r\n                            <button className={\"facility \" + (filterCategoryState === 0 ? \"buttonSelected\" : \"\")} onClick={() => setFilterCategoryState(0)}>시설</button>\r\n                            <button className={\"academy \" + (filterCategoryState === 1 ? \"buttonSelected\" : \"\")} onClick={() => setFilterCategoryState(1)}>학업</button>\r\n                            <button className={\"welfare \" + (filterCategoryState === 2 ? \"buttonSelected\" : \"\")} onClick={() => setFilterCategoryState(2)}>복지</button>\r\n                            <button className={\"future \" + (filterCategoryState === 3 ? \"buttonSelected\" : \"\")} onClick={() => setFilterCategoryState(3)}>미래</button>\r\n                            <button className={\"administration \" + (filterCategoryState === 4 ? \"buttonSelected\" : \"\")} onClick={() => setFilterCategoryState(4)}>행정</button>\r\n                            <button className={\"etc \" + (filterCategoryState === 5 ? \"buttonSelected\" : \"\")} onClick={() => setFilterCategoryState(5)}>기타</button>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"main-content\">\r\n                        <h3 className=\"content-text\">내용({contentLength}/3000)</h3>\r\n                        <textarea className=\"content-input\" maxLength=\"3000\" placeholder=\"청원 내용을 상세히 적어주세요.\" id=\"content-input\" onChange={(e) => setContentLength(e.target.value.length)}></textarea>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n    );\r\n\r\n}","import React, {  useEffect, useState } from \"react\";\r\nimport \"./PetitionPage.scss\";\r\nimport PetitionCard from \"../components/PetitionCard\";\r\nimport axios from \"axios\";\r\nimport Post from \"../components/Post\";\r\nimport NavigationTab from \"./NavigationTab\";\r\nimport WritingModal from \"../components/WritingModal\";\r\nimport io from \"socket.io-client\"\r\n\r\nconst URL = \"http://localhost:4000/\"\r\nconst socket = io.connect(URL);\r\n\r\nexport default function PetitionPage() {\r\n\t//data from DB\r\n\tconst [petitions, setPetitions] = useState([]);\r\n\tconst [comments, setComments] = useState([]);\r\n\tconst [categories, setCategories] = useState([]);\r\n\tconst [agreements, setAgreements] = useState([]);\r\n\tconst [users, setUsers] = useState([]);\r\n\r\n\t//검색창에 입력한 스트링값 저장\r\n\t// const [searchKeyword, setSearchKeyword] = useState(\"\");\r\n\t//상태 변수들\r\n\tconst [filterCategoryState, setFilterCategoryState] = useState(-1);\r\n\tconst [postingModalState, setPostingModalState] = useState(false);\r\n\r\n\t//0: 진행중인 청원(최신순) 3: 진행중인 청원(청원순) 1:답변된 청원 2:만료된 청원\r\n\tconst [onGoingState, setOnGoingState] = useState(0)\r\n\tconst [selectedPost, setSelectedPost] = useState(-1);\r\n\r\n\tconst [searchKeyword, setSearchKeyword] = useState(\"\");\r\n\r\n\t//login 정보\r\n\tconst [loginned, setLoginned] = useState(false);\r\n\tconst [currentUser, setCurrentUser] = useState(\"\");\r\n\r\n\r\n\tuseEffect(()=>{\r\n\t\tconsole.log(sessionStorage.getItem('user_uid'));\r\n\t\t//login 한 후 logout을 하지 않았을 때, 정보 유지.\r\n\t\tif(sessionStorage.getItem('user_uid') !== null){\r\n\t\t\tsetCurrentUser({uid:sessionStorage.getItem('user_uid'), name:sessionStorage.getItem('user_name'), major:sessionStorage.getItem('user_major')});\r\n\t\t\tconsole.log(sessionStorage.getItem('user_uid'))\r\n\t\t\tsetLoginned(true);\r\n\t\t\tconsole.log(\"must be here\")\r\n\t\t}\r\n\t\telse{\r\n\t\t\tsetCurrentUser(\"\");\r\n\t\t}\r\n\t},[])\r\n\r\n\r\n\t//navigation 숨기기\r\n\tconst [hideNav, setHideNav] = useState(false);\r\n\r\n\t//load petitions Data from DB {pid, uid, title, catId, description, date, state}\r\n\t//state 0-ongoing, 1-answered, 2-expired\r\n\tuseEffect(()=>{\t\r\n\t\tasync function fetchData2(){\r\n\t\t\tawait axios\r\n\t\t\t.get(\"/petitions\")\r\n\t\t\t.then((res) => {\r\n\t\t\t\t// console.log(res.data);\r\n\t\t\t\t// res.data.sort(\r\n\t\t\t\t// \tfunction(a,b){\r\n\t\t\t\t// \t\tif (a.pid < b.pid) {\r\n\t\t\t\t// \t\t\treturn 1;\r\n\t\t\t\t// \t\t  }\r\n\t\t\t\t// \t\t  if (a.pid > b.pid) {\r\n\t\t\t\t// \t\t\treturn -1;\r\n\t\t\t\t// \t\t  }\r\n\t\t\t\t// \t\t  // a must be equal to b\r\n\t\t\t\t// \t\t  return 0;\r\n\t\t\t\t// \t}\r\n\t\t\t\t// )\r\n\t\t\t\tsetPetitions(res.data);\r\n\t\t\t})\r\n\t\t}\r\n\t\tfetchData2();\r\n\t},[]);\r\n\r\n\t//load comments data from DB {pid, comId, uid, content, date}\r\n\tuseEffect(()=>{\r\n\t\tasync function fetchData(){\r\n\t\t\tawait axios\r\n\t\t\t.get(\"/comments\")\r\n\t\t\t.then((res) => {\r\n\t\t\t\t// console.log(res.data);\r\n\t\t\t\tsetComments(res.data);\r\n\t\t\t})\r\n\t\t\t.catch();\r\n\t\t}\r\n\t\tfetchData();\r\n\t}, []);\r\n\r\n\t//load category data from DB {catId, name}\r\n\tuseEffect(()=>{\r\n\t\tasync function fetchData4(){\r\n\t\t\tawait axios\r\n\t\t\t.get(\"/category\")\r\n\t\t\t.then((res) => {\r\n\t\t\t\t// console.log(res.data);\r\n\t\t\t\tsetCategories(res.data);\r\n\t\t\t})\r\n\t\t\t.catch();\r\n\t\t}\r\n\t\tfetchData4();\r\n\t}, []);\r\n\r\n\t//load agreements data from DB {catId, name}\r\n\tuseEffect(()=>{\r\n\t\tasync function fetchData5(){\r\n\t\t\tawait axios\r\n\t\t\t.get(\"/agreements\")\r\n\t\t\t.then((res) => {\r\n\t\t\t\t// console.log(res.data);\r\n\t\t\t\tsetAgreements(res.data);\r\n\t\t\t})\r\n\t\t\t.catch();\r\n\t\t}\r\n\t\tfetchData5();\r\n\t}, []);\r\n\r\n\t//load agreements data from DB {uid, name, major}\r\n\tuseEffect(()=>{\r\n\t\tasync function fetchData6(){\r\n\t\t\tawait axios\r\n\t\t\t.get(\"/users\")\r\n\t\t\t.then((res) => {\r\n\t\t\t\tconsole.log(res.data);\r\n\t\t\t\tsetUsers(res.data);\r\n\t\t\t})\r\n\t\t\t.catch();\r\n\t\t}\r\n\t\tfetchData6();\r\n\t}, []);\r\n\r\n\t//handling server request\r\n\tuseEffect(() => {\r\n\t\t//추가된 petition 받아서 petitions 어레이에 추가하기\r\n\t\tsocket.on(\"addPost\", (addingPost) => {\r\n\t\t\tsetPetitions((petitions) => [...petitions, addingPost]);\r\n\t\t})\r\n\t\t//추가된 comment 받아서 comments 어레이에 추가하기\r\n\t\tsocket.on(\"addComment\", (addingComment)=>{\r\n\t\t\tsetComments((comments)=>[...comments, addingComment])\r\n\t\t})\r\n\t\t//추가된 agree 받아서 agreements 어레이에 추가하기\r\n\t\tsocket.on(\"addAgree\", (addingAgree)=> {\r\n\t\t\tsetAgreements((agreements)=>[...agreements, addingAgree])\r\n\t\t})\r\n\t\t//추가된 user 받아서 users에 추가, currentUser에 설정\r\n\t\tsocket.on(\"addUser\", (addingUser)=>{\r\n\t\t\tsetUsers((users)=>[...users, addingUser])\r\n\t\t\tconsole.log(addingUser);\r\n\t\t\tsetCurrentUser(addingUser);\r\n\t\t\tsessionStorage.setItem('user_uid', addingUser.uid);\r\n\t\t\tsessionStorage.setItem('user_name', addingUser.name);\r\n\t\t\tsessionStorage.setItem('user_major', addingUser.major);\r\n\t\t\tsetLoginned(true);\r\n\t\t})\r\n\r\n\t}, [socket])\r\n\r\n\t//청원 작성 완료 \r\n    const writeComplete = (title, catId, description) => {\r\n        const uid = currentUser.uid;\r\n        let today = new Date();\r\n        const state = 0;\r\n        const date = today.toLocaleDateString();\r\n\t\tconst newPetition = { uid, title, catId, description, date, state };\r\n\t\t\r\n\t\t//서버에 새로 추가된 petition 보내기\r\n\t\tsocket.emit(\"newPost\", newPetition);\r\n\r\n        setPostingModalState(false);\r\n    }\r\n\r\n\t//로그인 완료\r\n\tconst loginComplete = (name, major) => {\r\n\t\t//현재 user 정보에 로그인 정보가 있다면, currentUser에 등록 후 loginned true로 전환\r\n\t\tif (users.some((user) => user.name === name && user.major === major)) {\r\n\t\t\tsetCurrentUser(users.filter((user) => user.name === name && user.major === major)[0]);\r\n\t\t\tsessionStorage.setItem('user_uid', users.filter((user) => user.name === name && user.major === major)[0].uid);\r\n\t\t\tsessionStorage.setItem('user_name', name);\r\n\t\t\tsessionStorage.setItem('user_major', major);\r\n\t\t\tsetLoginned(true);\r\n\t\t\tconsole.log(\"i am here\")\r\n\t\t}\r\n\t\t//현재 user 정보에 로그인 정보가 없다면, server에 알려서 추가하기.\r\n\t\telse {\r\n\t\t\tconsole.log(name)\r\n\t\t\tconsole.log(major)\r\n\t\t\tsocket.emit(\"newLogin\", {name, major});\r\n\t\t}\r\n\t}\r\n\r\n\t//로그아웃 완료\r\n\tconst logout = ()=> {\r\n\t\t//currentUser 리셋 후 스토리지 데이터 없애기\r\n        setCurrentUser(\"\");\r\n\t\tsessionStorage.removeItem('user_uid');\r\n\t\tsessionStorage.removeItem('user_name');\r\n\t\tsessionStorage.removeItem('user_major');\r\n\t\tsetLoginned(false);\r\n\t }\r\n\r\n\t //로그인이 필요한 서비스임을 알리기\r\n\tconst notifyNotLoginned = ()=>{\r\n\t\tsetPostingModalState(false);\r\n\t\talert(\"로그인이 필요한 서비스입니다.\")\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className=\"petition-home\">\r\n\t\t\t<div className={\"petition-left \" +(hideNav ? \"hide3\" : \"\")}>\r\n\t\t\t\t<button className=\"hide-btn\" onClick={()=>{if(hideNav){setHideNav(false)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\telse{setHideNav(true)}}}></button>\r\n\t\t\t\t<div className={\"petition-nav \"+ (hideNav ? \"hide1\" : \"reveal\")} >\r\n\t\t\t\t\t{<NavigationTab loginned={loginned}\r\n\t\t\t\t\t\t\t\t\tloginComplete={loginComplete} \r\n\t\t\t\t\t\t\t\t\tfilterCategoryState={filterCategoryState} \r\n\t\t\t\t\t\t\t\t\tsetFilterCategoryState={setFilterCategoryState} \r\n\t\t\t\t\t\t\t\t\topenPostingModal={()=>setPostingModalState(true)}\r\n\t\t\t\t\t\t\t\t\tsetSearchKeyword={setSearchKeyword}\r\n\t\t\t\t\t\t\t\t\tsetOnGoingState={setOnGoingState}\r\n\t\t\t\t\t\t\t\t\tonGoingState={onGoingState}\r\n\t\t\t\t\t\t\t\t\tcurrentUser={currentUser}\r\n\t\t\t\t\t\t\t\t\tlogout={logout}\r\n\t\t\t\t\t\t\t\t\t/>}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className={\"petition \" + (hideNav ? \"hide2\" : \"\")}>\r\n\t\t\t\t<div className=\"petition-list\">\r\n\t\t\t\t\t{selectedPost === -1 ?\r\n\t\t\t\t\t\tfilterCategoryState === -1 ? \r\n\t\t\t\t\t\t\tpetitions.map((petition) =>{\r\n\t\t\t\t\t\t\t\tif(petition.title.includes(searchKeyword) && onGoingState === petition.state)\r\n\t\t\t\t\t\t\t\treturn  <PetitionCard\r\n\t\t\t\t\t\t\t\t\t\tkey={petition.pid}\r\n\t\t\t\t\t\t\t\t\t\tpetition={petition}\r\n\t\t\t\t\t\t\t\t\t\tcategories={categories}\r\n\t\t\t\t\t\t\t\t\t\tsetSelectedPost={setSelectedPost}\r\n\t\t\t\t\t\t\t\t\t\tagreements = {agreements.filter(agreement=>agreement.pid === petition.pid)}\r\n\t\t\t\t\t\t\t\t\t\tfilterCategoryState={filterCategoryState}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t/>})\r\n\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\tpetitions.map((petition) => {\r\n\t\t\t\t\t\t\t\tif((petition.catId === filterCategoryState) && (petition.title.includes(searchKeyword)) && onGoingState === petition.state)\r\n\t\t\t\t\t\t\t\treturn <PetitionCard\r\n\t\t\t\t\t\t\t\t\t\t\tkey={petition.pid}\r\n\t\t\t\t\t\t\t\t\t\t\tpetition={petition}\r\n\t\t\t\t\t\t\t\t\t\t\tcategories={categories}\r\n\t\t\t\t\t\t\t\t\t\t\tsetSelectedPost={setSelectedPost}\r\n\t\t\t\t\t\t\t\t\t\t\tagreements = {agreements.filter(agreement=>agreement.pid === petition.pid)}\r\n\t\t\t\t\t\t\t\t\t\t\tfilterCategoryState={filterCategoryState}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t:\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t<Post\r\n\t\t\t\t\t\t\t\tpetitionInfo={petitions[selectedPost]}\r\n\t\t\t\t\t\t\t\tcomments={comments.filter(comment=>comment.pid === selectedPost)}\r\n\t\t\t\t\t\t\t\tcategories={categories}\r\n\t\t\t\t\t\t\t\tclosePost={() => setSelectedPost(-1)} \r\n\t\t\t\t\t\t\t\tsocket={socket}\r\n\t\t\t\t\t\t\t\tagreements = {agreements.filter(agreement=>agreement.pid === selectedPost)}\r\n\t\t\t\t\t\t\t\tloginned={loginned}\r\n\t\t\t\t\t\t\t\tuser = {users.filter((user) => user.uid === petitions[selectedPost].uid)}\r\n\t\t\t\t\t\t\t\tcurrentUser={currentUser}\r\n\t\t\t\t\t\t\t\tusers={users}\r\n\t\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t{loginned ? postingModalState && <WritingModal  \r\n\t\t\t\t\t\t\t\t\t\t\t\twriteComplete={writeComplete}\r\n\t\t\t\t\t\t\t\t\t\t\t\tcloseWritingModal ={()=>setPostingModalState(false)} \r\n\t\t\t\t\t\t\t\t\t\t\t\t/> : postingModalState && notifyNotLoginned()}\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React from \"react\";\r\n\r\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\r\n\r\nimport PetitionPage from \"./pages/PetitionPage\";\r\n\r\nimport \"./styles.css\";\r\n\r\n\r\nexport default function App() {\r\n\r\n\r\n  return (\r\n    <Router>\r\n      <Switch>\r\n        <Route path=\"/\">\r\n          <PetitionPage />\r\n        </Route>\r\n\r\n      </Switch>\r\n    </Router>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n//import './NavigationTab.css'\r\n// import './HomePage.css'\r\nimport App from './App';\r\n\r\n\r\nReactDOM.render(\r\n\t<React.StrictMode>\r\n\t\t<App />\r\n\t</React.StrictMode>,\r\n\tdocument.getElementById('root')\r\n);\r\n\r\n"],"sourceRoot":""}